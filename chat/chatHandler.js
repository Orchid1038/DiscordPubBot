const handleMessage = (message) => {
  // 忽略機器人自己發送的訊息
  if (message.author.bot) return;

  const content = message.content.toLowerCase();

  // 定義每個關鍵字對應的隨機回覆選項
  const responses = {
    嗨: [
      "嗨!你今天有刷牙嗎?",
      "嘿,很高興看到你!",
      "你好啊,今天過得怎麼樣?",
      "嗨,我正在想一些有趣的笑話呢!",
      "嗨嗨,準備好開心一天了嗎?",
    ],
    再見: [
      "拜拜!記得關燈省電哦!",
      "再見啦,我會想你的!",
      "掰掰,下次見!",
      "拜拜,保重身體哦!",
      "再見,祝你有個美好的一天!",
    ],
    謝謝: [
      "不客氣,我的錢包一直很空!",
      "你太客氣了,不用謝!",
      "謝謝你的禮貌,我很欣賞!",
      "沒什麼好謝的,這是我應該做的!",
      "你的謝意我心領了!",
    ],
    怎麼: [
      "我怎麼知道?我又不是神仙!",
      "這個問題我也很困惑呢!",
      "這可真是個好問題,讓我想想...",
      "你問的太難了,我還在學習中!",
      "我只是個小機器人,這個問題超出我的能力範圍了!",
    ],
    晚安: [
      "晚安!別做噩夢啊,夢到我就可怕了!",
      "晚安,祝你有個好夢!",
      "好好睡一覺,明天會是美好的一天!",
      "晚安,睡個好覺,養足精神!",
      "晚安,希望你做個香甜的夢!",
    ],
    早安: [
      "清晨的第一件事就是說早安?你昨晚是不是忘記刷牙了?",
      "早安!新的一天又開始了!",
      "你早啊,準備好迎接新的一天了嗎?",
      "早安,希望你今天過得開開心心!",
      "你可真夠早的,我剛剛才睡醒呢!",
    ],
    你好: [
      "你好嗎?我現在很好,因為我剛剛吃了一個三明治!",
      "哈囉,很高興認識你!",
      "你好啊,我是一個樂於助人的小機器人!",
      "嗨,有什麼能為你效勞的嗎?",
      "你好,今天過得怎麼樣呢?",
    ],
    問題: [
      "問題?我有一百萬個問題!你先問一個吧!",
      "好的,你有什麼問題嗎?儘管問吧!",
      "問題不是問題,解決問題才是問題!",
      "每個問題都有答案,就看你是否願意尋找了!",
      "人生就是由無數個問題組成的,讓我們一起思考吧!",
    ],
  };

  // 從對應的回覆選項中隨機選擇一個
  const keys = Object.keys(responses);
  for (const key of keys) {
    if (content.includes(key)) {
      const randomResponse =
        responses[key][Math.floor(Math.random() * responses[key].length)];
      message.reply(randomResponse);
      return;
    }
  }
};

module.exports = {
  handleMessage,
};
